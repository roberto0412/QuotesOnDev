jQuery(document).ready(function(e){e("#nextquote").on("click",function(o){o.preventDefault(),e.ajax({method:"Get",url:window.red_vars.rest_url+"wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.red_vars.wpapi_nonce)}}).done(function(o){e(".entry-content").html(o[0].content.rendered),e(".entry-info").html(`<h2 class="quote-author">&#8211; ${o[0].title.rendered}</h2>`),""!==o[0]._qod_quote_source&&(""!==o[0]._qod_quote_source_url?e(".entry-info").append(`<a  href="${o[0]._qod_quote_source_url}"class="quote-author">&#44; ${o[0]._qod_quote_source}</a>`):e(".entry-info").append(`<span class="quote-author">&#44; ${o[0]._qod_quote_source}</span>`)),console.log(o),console.log(window.red_vars);const t=window.red_vars.home_url+"/"+o[0].slug;history.pushState(null,null,t)})}),e("#submit-button").on("click",function(o){o.preventDefault();const t=e("#q-author").val(),n=e("#quote").val(),u=e("#source-quote").val(),s=e("#url-quote").val();e.ajax({method:"post",url:window.red_vars.rest_url+"wp/v2/posts",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.red_vars.wpapi_nonce)},data:{title:t,content:n,_qod_quote_source:u,_qod_quote_source_url:s,post_status:"pending"}}).success(function(){alert("Quote was sucessfully submitted to database"),e("#quote-form")[0].reset()}).fail(function(){alert("Quote submission was unsuccessful"),e("#quote-form")[0].reset()})})});